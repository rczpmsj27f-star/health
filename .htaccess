<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Redirect Trailing Slashes If Not A Folder...
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_URI} (.+)/$
    RewriteRule ^ %1 [L,R=301]
    
    # Serve PWA static files directly from /pwa directory
    # Required for Progressive Web App installation and push notifications
    # Includes: manifest.json, service workers, OneSignal worker, icons, and all PWA frontend assets
    RewriteCond %{REQUEST_URI} ^/(manifest\.json|sw\.js|OneSignalSDKWorker\.js|app\.js|styles\.css|index\.html)$ [OR]
    RewriteCond %{REQUEST_URI} ^/icons/
    RewriteRule ^(.*)$ /pwa/$1 [L]
    
    # Send Requests To Public Folder
    RewriteCond %{REQUEST_URI} !^/public/
    RewriteRule ^(.*)$ /public/$1 [L,QSA]
</IfModule>
