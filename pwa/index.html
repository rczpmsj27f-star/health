<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Medication Reminder - Never miss a dose">
    <meta name="theme-color" content="#4CAF50">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Med Reminder">
    
    <!-- Icons -->
    <link rel="icon" type="image/svg+xml" sizes="192x192" href="/icons/icon-192x192.svg">
    <link rel="apple-touch-icon" href="/icons/icon-192x192.svg">
    
    <title>Medication Reminder</title>
    <link rel="stylesheet" href="/styles.css">
    
    <!-- OneSignal SDK -->
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="app-header">
            <h1>üíä Medication Reminder</h1>
            <button id="settingsBtn" class="icon-btn" aria-label="Settings">‚öôÔ∏è</button>
        </header>

        <!-- Main Content -->
        <main id="mainContent">
            <!-- Home View -->
            <div id="homeView" class="view active">
                <section class="section">
                    <div class="section-header">
                        <h2>Today's Medications</h2>
                        <button id="addMedBtn" class="btn btn-primary">+ Add Medication</button>
                    </div>
                    
                    <div id="medicationsList" class="medications-list">
                        <p class="empty-state">No medications scheduled. Add one to get started!</p>
                    </div>
                </section>
            </div>

            <!-- Add/Edit Medication View -->
            <div id="addMedicationView" class="view">
                <div class="view-header">
                    <button id="backFromAddBtn" class="btn btn-secondary">‚Üê Back</button>
                    <h2 id="addMedicationTitle">Add Medication</h2>
                </div>
                
                <form id="medicationForm" class="form">
                    <div class="form-group">
                        <label for="medName">Medication Name *</label>
                        <input type="text" id="medName" required placeholder="e.g., Aspirin">
                    </div>
                    
                    <div class="form-group">
                        <label for="medDose">Dose (optional)</label>
                        <input type="text" id="medDose" placeholder="e.g., 100mg">
                    </div>
                    
                    <div class="form-group">
                        <label>Scheduled Times *</label>
                        <div id="scheduledTimes" class="scheduled-times-list">
                            <!-- Time inputs will be added here -->
                        </div>
                        <button type="button" id="addTimeBtn" class="btn btn-secondary btn-sm">+ Add Time</button>
                    </div>
                    
                    <div class="form-group">
                        <label for="medInstructions">Instructions (optional)</label>
                        <textarea id="medInstructions" rows="3" placeholder="e.g., Take with food"></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Save Medication</button>
                        <button type="button" id="cancelMedBtn" class="btn btn-secondary">Cancel</button>
                    </div>
                </form>
            </div>

            <!-- Settings View -->
            <div id="settingsView" class="view">
                <div class="view-header">
                    <button id="backFromSettingsBtn" class="btn btn-secondary">‚Üê Back</button>
                    <h2>Settings</h2>
                </div>
                
                <section class="section">
                    <h3>Push Notifications</h3>
                    
                    <div id="notificationStatus" class="notification-status">
                        <p>Enable push notifications to receive medication reminders.</p>
                        <button id="enableNotificationsBtn" class="btn btn-primary">Enable Notifications</button>
                    </div>
                    
                    <div id="notificationSettings" class="settings-list" style="display: none;">
                        <div class="setting-item">
                            <label class="toggle-label">
                                <input type="checkbox" id="notifyAtTime" checked>
                                <span class="toggle-slider"></span>
                                <span class="toggle-text">At scheduled time</span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <label class="toggle-label">
                                <input type="checkbox" id="notifyAfter10Min" checked>
                                <span class="toggle-slider"></span>
                                <span class="toggle-text">10 minutes after (if not taken)</span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <label class="toggle-label">
                                <input type="checkbox" id="notifyAfter20Min" checked>
                                <span class="toggle-slider"></span>
                                <span class="toggle-text">20 minutes after (if not taken)</span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <label class="toggle-label">
                                <input type="checkbox" id="notifyAfter30Min" checked>
                                <span class="toggle-slider"></span>
                                <span class="toggle-text">30 minutes after (if not taken)</span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <label class="toggle-label">
                                <input type="checkbox" id="notifyAfter60Min">
                                <span class="toggle-slider"></span>
                                <span class="toggle-text">60 minutes after (if not taken)</span>
                            </label>
                        </div>
                    </div>
                </section>
                
                <section class="section">
                    <h3>About</h3>
                    <p>Medication Reminder PWA v1.0</p>
                    <p class="text-muted">A progressive web app to help you never miss a dose.</p>
                </section>
            </div>
        </main>
    </div>

    <script src="/app.js"></script>
</body>
</html>
